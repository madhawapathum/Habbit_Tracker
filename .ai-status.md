# AI Status Report - Habit Tracker

## Current Progress
- **UI Architecture Refactored**: All visual components (Dashboard, Habits, Journal, Settings, HabitCalendar) moved to `components/ui_legacy/` to prepare for a clean-slate redesign.
- **Routing**: Implemented file-based routing using Next.js App Router (`/dashboard`, `/habits`, `/journal`, `/settings`) with a `(main)` route group.
- **Root Redirect**: Root URL `/` now redirects to `/dashboard`.
- **Infrastructure Shell**: Created `components/AppLayout.tsx`, a clean, full-viewport flex container as the foundation for the new UI.
- **Layout Expansion**: Removed `max-width` and centering constraints from `globals.css` and layouts.
- **Verification**: All 40 unit and component tests are passing (after updating import paths for archived components).

## State of the Union
- **Domain Purity**: Domain logic (`lib/domain/`) remains isolated and pure.
- **State Bridge**: `habitStore.ts` serves as the single source of truth for persistence.
- **UI State**: Removed temporary `activeView` state in favor of URL-driven routing.
- **Archive Policy**: Legacy UI is preserved in `ui_legacy/` and remains functional/tested.

## Next Steps
- **Start New UI Implementation**: Begin building the "clean" UI within the `AppLayout` shell.
- **Navigation Redesign**: Replace the temporary tab bar with the new UI's navigation system.
- **Theme Wiring**: Complete the connection between `settings.theme` and the CSS engine.
- **Responsive Review**: Ensure the full-viewport layout holds up on mobile devices.

## Blockers / Logic Debt
- **Legacy Dependencies**: Route pages still depend on `ui_legacy` components until new ones are built.
- **CSS Namespacing**: Need to ensure new UI styles don't conflict with legacy CSS tokens if they are kept.
